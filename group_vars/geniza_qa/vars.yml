---
# email prefix for admin emails
email_prefix: "[QA Geniza] "

# passenger settings
passenger_server_name: "test-geniza.cdh.princeton.edu"

# solr settings
zk_host: "lib-zk-staging1:2181,lib-zk-staging2:2181,lib-zk-staging3:2181/solr8"
solr_url: "http://lib-solr8-staging.princeton.edu:8983/solr/"
solr_server: "{{ groups['solr_staging'][0] }}"


# qa configure scripts to run as cron jobs
crontab:
  # do we need reindexing in qa? probably deson't hurt
  - name: "{{ app_name }} reindex"
    special_time: daily
    job: "env DJANGO_ENV=staging bin/cron-wrapper {{ passenger_app_root }}/env/bin/python{{ python_version }} {{ passenger_app_root }}/manage.py index --no-progress >> {{ logging_dir }}/index.log 2>&1"
    state: present
  - name: "{{ app_name }} sync transcriptions"
    special_time: daily
    job: "env DJANGO_ENV=staging bin/cron-wrapper {{ passenger_app_root }}/env/bin/python{{ python_version }} {{ passenger_app_root }}/manage.py sync_transcriptions -v 0 >> {{ logging_dir }}/sync_transcriptions.log 2>&1"
    state: present
