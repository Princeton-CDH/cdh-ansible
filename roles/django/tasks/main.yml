---
# Basic sequence of tasks for setting up a Django app.

- name: Setup django application
  block:
  - include: install_local_settings.yml
  - include: migrate.yml
  - include: collectstatic.yml
  - include: compilemessages.yml
  - include: media.yml
    when: media_root is defined

  environment:
    DJANGO_ENV: "{% if qa is defined %}staging{% else %}production{% endif %}"
