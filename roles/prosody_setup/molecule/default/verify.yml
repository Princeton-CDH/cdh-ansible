---
#

- name: Verify
  hosts: all
  vars_files: ../../defaults/test.yml
  gather_facts: false
  tasks:
  - name: Get stats for hathitrust pairtree path
    ansible.builtin.stat:
      path: "{{ hathitrust_pairtree_path }}"
    register: hathitrust_pairtree_dir
  - name: Assert that hathitrust pairtree path exists
    assert:
      that:
        - "hathitrust_pairtree_dir.stat.exists"
        - "hathitrust_pairtree_dir.stat.isdir"
  - name: Get stats for marc data path
    ansible.builtin.stat:
      path: "{{ marc_data_path }}"
    register: marc_data_dir
  - name: Assert that marc data path exists
    assert:
      that:
        - "marc_data_dir.stat.exists"
        - "marc_data_dir.stat.isdir"

